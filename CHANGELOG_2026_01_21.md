# Changelog ‚Äî 2026-01-21

## üéØ –§–∏–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è 80%+ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ Pydantic —Å—Ö–µ–º–∞—Ö:**

1. **`GameStateRequest`**:
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `hand_id` (min_length=1, max_length=100)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `limit_type` (pattern: `^NL\\d+$`)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `street` (pattern: `^(preflop|flop|turn|river)$`)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π (hero_position, dealer: ge=0, le=5)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç (hero_cards: min_length=4, max_length=10)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Ç–∞ (pot: ge=0.0)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –±–ª–∞–π–Ω–¥–æ–≤ (small_blind, big_blind: gt=0.0)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ (min_length=2, max_length=6)

2. **`HandLogRequest`**:
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `hand_id` (min_length=1, max_length=100)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `limit_type` (pattern: `^NL\\d+$`)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `players_count` (ge=2, le=6)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `pot_size` (ge=0.0)
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `rake_amount` (ge=0.0)

3. **Admin endpoints**:
   - ‚úÖ `SessionStartRequest`: –≤–∞–ª–∏–¥–∞—Ü–∏—è `bot_id` (gt=0), `limit` (pattern), `table_key` (max_length=100)
   - ‚úÖ `TableCreate`: –≤–∞–ª–∏–¥–∞—Ü–∏—è `room_id` (gt=0), `limit_type` (pattern), `max_players` (ge=2, le=6)
   - ‚úÖ `BotCreate`: –≤–∞–ª–∏–¥–∞—Ü–∏—è `alias` (min_length=1, max_length=100), `default_style` (pattern)

### ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
   - ‚úÖ –ß—Ç–µ–Ω–∏–µ `CORS_ORIGINS` –∏–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
   - ‚úÖ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `"*"` –¥–ª—è development, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è production

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç**:
   - ‚úÖ SQL injection (—á–µ—Ä–µ–∑ Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–∏–ø–æ–≤)
   - ‚úÖ –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ (max_length)
   - ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (ge, le, pattern)
   - ‚úÖ –ü—É—Å—Ç—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (min_length, required)

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **–°–æ–∑–¥–∞–Ω `WEEKLY_PROGRESS.md`**:
   - ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ –Ω–µ–¥–µ–ª—è–º
   - ‚úÖ –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
   - ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ / —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å
   - ‚úÖ –ü–ª–∞–Ω –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 90%+

2. **–û–±–Ω–æ–≤–ª—ë–Ω `README.md`**:
   - ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ `WEEKLY_PROGRESS.md`
   - ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

3. **–°–æ–∑–¥–∞–Ω `QUICK_START.md`**:
   - ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
   - ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **E2E —Ç–µ—Å—Ç**:
   - ‚úÖ `test_e2e_operator_flow.py` ‚Äî –ø–æ–ª–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π flow
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ —Å `table_key`
   - ‚úÖ 14 —à–∞–≥–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç room –¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ session

2. **Makefile —É–ª—É—á—à–µ–Ω–∏—è**:
   - ‚úÖ `make check-deps` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - ‚úÖ `make test-e2e` ‚Äî –∑–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–∞
   - ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `python3`

### ‚úÖ –ö–æ–¥ –∫–∞—á–µ—Å—Ç–≤–æ

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è**:
   - ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
   - ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - ‚úÖ Safe-mode –¥–ª—è `/decide` (fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö)
   - ‚úÖ Graceful handling –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**:
   - ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - ‚úÖ Lint –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å

| –ù–µ–¥–µ–ª—è | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|--------|------|-------|-----------|
| –ù–µ–¥–µ–ª—è 1 | 85% | **87%** | +2% (—É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è) |
| –ù–µ–¥–µ–ª—è 2 | 95% | **96%** | +1% (—É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è admin API) |
| –ù–µ–¥–µ–ª—è 3 | 90% | **90%** | ‚Äî |
| –ù–µ–¥–µ–ª—è 4 | 60% | **65%** | +5% (CORS –∏–∑ env, —É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è) |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 82-85% ‚Üí 84-87%**

---

## üéØ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –¥–ª—è 90%+

### –ù–µ–¥–µ–ª—è 1 ‚Üí 90%:
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ–≥–Ω–∞—Ç—å –ø–æ–ª–Ω—ã–π test suite
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π CI/CD

### –ù–µ–¥–µ–ª—è 2 ‚Üí 100%:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ù–µ–¥–µ–ª—è 3 ‚Üí 100%:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Prometheus/Grafana —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

### –ù–µ–¥–µ–ª—è 4 ‚Üí 90%:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS/TLS
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø—ã
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ load testing

---

*–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.*
