# ============================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ============================================
# ВАЖНО: Скопируйте этот файл в .env и заполните реальными значениями!
# cp .env.production.template .env

# Environment
ENVIRONMENT=production

# ============================================
# База данных PostgreSQL (PRODUCTION)
# ============================================
# ⚠️  ОБЯЗАТЕЛЬНО замените на production credentials!
# Рекомендуется использовать облачную БД (Neon, Supabase, AWS RDS, etc.)
DATABASE_URL=postgresql://YOUR_USER:YOUR_STRONG_PASSWORD@YOUR_HOST:5432/YOUR_DATABASE?sslmode=require

# Для локального production PostgreSQL:
# DATABASE_URL=postgresql://pokerbot:STRONG_PASSWORD_HERE@localhost:5432/pokerbot_db

# Пароль PostgreSQL (для docker-compose, если используется)
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# ============================================
# Redis Cache (PRODUCTION)
# ============================================
# Рекомендуется облачный Redis (Upstash, Redis Cloud, AWS ElastiCache)
REDIS_URL=redis://YOUR_REDIS_HOST:6379/0

# С паролем:
# REDIS_URL=redis://:YOUR_REDIS_PASSWORD@YOUR_HOST:6379/0

# ============================================
# API Аутентификация (PRODUCTION)
# ============================================
# ⚠️  КРИТИЧЕСКИ ВАЖНО: Сгенерируйте новый ключ!
# Команда для генерации: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=REPLACE_WITH_STRONG_RANDOM_KEY_32_CHARS

# ============================================
# Логирование (PRODUCTION)
# ============================================
# Путь к файлу логов
LOG_FILE=logs/poker_bot.log

# Уровень логирования (INFO или WARNING для production)
LOG_LEVEL=INFO

# ============================================
# API Настройки (PRODUCTION)
# ============================================
# Хост для API (0.0.0.0 для доступа извне)
API_HOST=0.0.0.0

# Порт для API
API_PORT=8000

# ============================================
# CORS Origins (PRODUCTION)
# ============================================
# ⚠️  ОБЯЗАТЕЛЬНО укажите конкретные домены!
# НЕ используйте * в production!
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# ============================================
# Rate Limiting (PRODUCTION)
# ============================================
# Количество запросов в минуту на IP
# Рекомендуется 60-120 для production
RATE_LIMIT_PER_MINUTE=60

# ============================================
# Training (MCCFR)
# ============================================
# Количество процессов для обучения
TRAINING_PROCESSES=4

# Интервал сохранения чекпоинтов (итераций)
CHECKPOINT_INTERVAL=5000

# Путь к директории с чекпоинтами
CHECKPOINTS_DIR=checkpoints

# ============================================
# Мониторинг (PRODUCTION)
# ============================================
# Prometheus metrics включены
METRICS_ENABLED=true

# ============================================
# PRODUCTION SECURITY CHECKLIST
# ============================================
# ✅ 1. Замените DATABASE_URL на production БД с SSL
# ✅ 2. Замените REDIS_URL на production Redis с паролем
# ✅ 3. Сгенерируйте новый API_KEY (НЕ используйте dev ключ!)
# ✅ 4. Измените POSTGRES_PASSWORD на сложный пароль
# ✅ 5. Укажите конкретные домены в CORS_ORIGINS (НЕ *)
# ✅ 6. Включите SSL/TLS для всех соединений
# ✅ 7. Настройте firewall и ограничьте доступ к БД/Redis
# ✅ 8. Настройте резервное копирование БД
# ✅ 9. Настройте мониторинг и алерты (Grafana, Sentry)
# ✅ 10. Проверьте все секреты в CI/CD (не коммитьте в git!)

# ============================================
# Performance Tuning (PRODUCTION)
# ============================================
# Для высоконагруженных систем увеличьте:
# - PostgreSQL connection pool size
# - Redis maxmemory-policy (volatile-lru)
# - Uvicorn workers (--workers 4)
# - Rate limit (если нужно больше RPS)

# ============================================
# Deployment Notes
# ============================================
# Docker Compose:
# - Используйте production-ready образы (не latest)
# - Настройте health checks
# - Включите auto-restart (restart: always)
# - Используйте volumes для persistence
# - Настройте логирование (driver: json-file)

# Kubernetes:
# - Используйте ConfigMaps для конфигурации
# - Используйте Secrets для паролей
# - Настройте HPA (Horizontal Pod Autoscaler)
# - Настройте liveness/readiness probes
# - Используйте Ingress для SSL termination
